(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();const a=document.querySelector("#textarea"),c=document.querySelector(".button.copy");a.oninput=()=>{const o=a.innerHTML.replace(/<(\/?(br|span|span class="ansi-[0-9]*"))>/g,"[$1]");(o.includes("<")||o.includes(">"))&&(a.innerHTML=o.replace(/<.*?>/g,"").replace(/[<>]/g,"").replace(/\[(\/?(br|span|span class="ansi-[0-9]*"))\]/g,"<$1>"))};document.addEventListener("keydown",o=>{o.key==="Enter"&&(document.execCommand("insertLineBreak"),o.preventDefault())});document.querySelectorAll(".style-button").forEach(o=>{o.onclick=()=>{if(!o.dataset.ansi){a.innerText=a.innerText;return}const t=window.getSelection(),r=window.getSelection().toString(),i=document.createElement("span");i.innerText=r,i.classList.add(`ansi-${o.dataset.ansi}`);const e=t.getRangeAt(0);e.deleteContents(),e.insertNode(i),e.selectNodeContents(i),t.removeAllRanges(),t.addRange(e)}});function u(o,t){let r="";for(const i of o){if(i.nodeType===3){r+=i.textContent;continue}if(i.nodeName==="BR"){r+=`
`;continue}const e=+i.className.split("-")[1],n=Object.assign({},t.at(-1));e<30&&(n.st=e),e>=30&&e<40&&(n.fg=e),e>=40&&(n.bg=e),t.push(n),r+=`\x1B[${n.st};${e>=40?n.bg:n.fg}m`,r+=u(i.childNodes,t),t.pop(),r+="\x1B[0m",t.at(-1).fg!==2&&(r+=`\x1B[${t.at(-1).st};${t.at(-1).fg}m`),t.at(-1).bg!==2&&(r+=`\x1B[${t.at(-1).st};${t.at(-1).bg}m`)}return r}let s=0,d=null;c.onclick=()=>{const o="```ansi\n"+u(a.childNodes,[{fg:2,bg:2,st:2}])+"\n```";navigator.clipboard.writeText(o).then(()=>{d&&clearTimeout(d);const t=c.innerText=["Copied!","Double Copy!","Triple Copy!","Dominating!!","Rampage!!","Mega Copy!!","Unstoppable!!","Wicked Sick!!","Monster Copy!!!","GODLIKE!!!","BEYOND GODLIKE!!!!",Array(16).fill(0).reduce(r=>r+String.fromCharCode(Math.floor(Math.random()*65535)),"")];c.style.backgroundColor=s<=8?"#3BA55D":"#ED4245",c.innerText=t[s],s=Math.min(11,s+1),d=setTimeout(()=>{s=0,c.style.backgroundColor=null,c.innerText="Copy text as Discord formatted"},2e3)},t=>{s>2||(alert("Copying failed for some reason, let's try showing an alert, maybe you can copy it instead."),alert(o))})};
